# Description:
#   None
#
# Dependencies:
#   "mongoose": "3.0.2"
#
# Configuration:
#   None
#
# Commands:
#   None
#
# Author:
#   thogg4

mongoose = require "mongoose"
db = mongoose.createConnection('localhost', 'irc-log')
schema = mongoose.Schema({
  message: String,
  author: String,
  date: Date
})
Message = db.model('Message', schema)
module.exports = (robot) ->
	robot.hear /.*$/i, (msg) ->
	message = msg.message
	message.date = new Date
#	m = new Message({
#		message:
#	})
		console.log msg.message
		# ignore topic and other messages
		return if typeof message.user.id == 'undefined'

